{"version":3,"sources":["index.js","statistic.js","01_main.js"],"names":["communitySlider","Swiper","slidesPerView","spaceBetween","pagination","el","type","clickable","breakpoints","320","576","headSlider","allowTouchMove","effect","loop","autoplay","delay","speed","fadeEffect","crossFade","on","init","title","document","querySelector","getAttribute","innerHTML","slideChange","setTimeout","animateWord","block","span","createElement","classList","add","console","log","append","text","artSlider","brandSlider","addEventListener","event","step1Btn","step2BackBtn","step2","onclick","remove","burger","body","header","toggle","provider","ethers","providers","Web3Provider","window","ethereum","claim_abi","inputs","internalType","name","outputs","stateMutability","address","connect_btn","account_btn","async","connectMetamask","open","send","checkAccount","signer","getSigner","getAddress","substr","getTXTRecord","getDomains","err","claim","protocol_airdrop","Contract","connect","data","fetch","URLSearchParams","account","domain","args","json","Domain","Account","BigInt","Value","utils","arrayify","Signatures","tier","offset","page","onEnter","input","key","preventDefault","search","prev_query","query_value","container","getElementById","count","loader","value","query","list","forEach","i","Tier","tiers","tiers_buttons","children","tiersUpdate","btn","pagination_buttons","pages","Math","floor","numbers","Set","mid","sort","a","b","length","active","set_page","e","target","tokens_count","quiz_table","tokens","Date","Exp","toLocaleDateString","txt_record_field","copyTXTRecord","navigator","clipboard","writeText","addDomain","parentElement","toLowerCase","test","alert","status","suggestion","href"],"mappings":"AAAA,SAASA,kBACQ,IAAIC,OAAO,uCAAwC,CAC5DC,cAAe,EACfC,aAAc,GACdC,WAAY,CACRC,GAAI,wCACJC,KAAM,UACNC,WAAW,GAEfC,YAAa,CACTC,IAAK,CACDP,cAAe,GAEnBQ,IAAK,CACDR,cAAe,EACfC,aAAc,OAM9B,SAASQ,aACQ,IAAIV,OAAO,8BAA+B,CACnDC,cAAe,EACfU,gBAAgB,EAChBC,OAAQ,OACRC,MAAM,EACNC,SAAU,CACNC,MAAO,KAEXC,MAAO,KACPC,WAAY,CACRC,WAAW,GAEfC,GAAI,CACAC,KAAM,WACF,IAAIC,EAAQC,SAASC,cAAc,mCAAmCC,aAAa,mBACnFF,SAASC,cAAc,iBAAiBE,UAAYJ,GAExDK,YAAa,WACT,IAAIL,EAAQC,SAASC,cAAc,iCAAiCC,aAAa,mBACjFG,WACIC,YAAYP,GACZ,SAOpB,SAASO,YAAYP,GACjB,IAAIQ,EAAQP,SAASC,cAAc,iBAC/BO,EAAOR,SAASS,cAAc,QAClCF,EAAMJ,UAAY,GAClBK,EAAKE,UAAUC,IAAI,sBACnBH,EAAKL,UAAY,GAAGJ,EACpBa,QAAQC,IAAIL,GACZD,EAAMO,OAAON,GAEb,IAAIO,EAAOf,SAASC,cAAc,uBAClCc,EAAKL,UAAUC,IAAI,8BACnBC,QAAQC,IAAIE,GAIhB,SAASC,YACQ,IAAItC,OAAO,oCAAqC,CACzDC,cAAe,OACfY,MAAM,EACNC,SAAU,CACNC,MAAO,KAEXC,MAAO,MAIf,SAASuB,cACQ,IAAIvC,OAAO,sCAAuC,CAC3DC,cAAe,OACfY,MAAM,EACNC,SAAU,CACNC,MAAO,KAEXC,MAAO,MAIfjB,kBAEAuC,YACAC,cAEAjB,SAASkB,iBAAiB,oBAAoB,SAASC,GACnD/B;AC7FJ,IAAIgC,SAAWpB,SAASC,cAAc,2BAClCoB,aAAerB,SAASC,cAAc,2BACtCqB,MAAQtB,SAASC,cAAc,gBAG/BmB,WACAA,SAASG,QAAU,WACfD,MAAMZ,UAAUC,IAAI,yBAIxBU,eACAA,aAAaE,QAAU,WACnBD,MAAMZ,UAAUc,OAAO;ACb/B,IAAIC,OAASzB,SAASC,cAAc,mBAChCyB,KAAO1B,SAASC,cAAc,QAC9B0B,OAAS3B,SAASC,cAAc,UAEhCwB,SACAA,OAAOF,QAAU,WACbI,OAAOjB,UAAUkB,OAAO,kBACxBF,KAAKhB,UAAUkB,OAAO,gBAO9B,MAAMC,SAAW,IAAIC,OAAOC,UAAUC,aAAaC,OAAOC,UACpDC,UAAY,CAEd,CACIC,OAAU,CAAC,CACHC,aAAgB,SAChBC,KAAQ,SACRvD,KAAQ,UAEZ,CACIsD,aAAgB,UAChBC,KAAQ,UACRvD,KAAQ,WAEZ,CACIsD,aAAgB,UAChBC,KAAQ,QACRvD,KAAQ,WAEZ,CACIsD,aAAgB,UAChBC,KAAQ,aACRvD,KAAQ,YAGhBuD,KAAQ,QACRC,QAAW,GACXC,gBAAmB,aACnBzD,KAAQ,aAIhB,IAcI0D,QAdAC,YAAc1C,SAASC,cAAc,gBACrC0C,YAAc3C,SAASC,cAAc,gBAEzC2C,eAAeC,kBACPJ,SACAR,OAAOa,KAAK,WAAY,eAEtBjB,SAASkB,KAAK,sBAAuB,IAC3CC,eAOJJ,eAAeI,eACX,IAAIC,EAASpB,SAASqB,YAEtB,GADAT,cAAgBQ,EAAOE,aACnBV,QAAS,CACTC,YAAYvC,UAAYsC,QAAQW,OAAO,EAAG,GAAK,MAAQX,QAAQW,OAAO,GAAI,GAC1E,IACIC,eACAC,aACF,MAAOC,GACL3C,QAAQC,QAQpB+B,eAAeY,QACX,IAAIC,EAAmB,IAAI3B,OAAO4B,SAAS,6CAA8CvB,UAAWN,UAChGoB,EAASpB,SAASqB,YACtBO,EAAmBA,EAAiBE,QAAQV,GAE5C,IAAIW,QAAaC,MAAM,gBAAkB,IAAIC,gBAAgB,CAAEC,cAAed,EAAOE,aAAca,OAAQ,gBACvGC,QAAaL,EAAKM,OACtBT,EAAiBD,MAAMS,EAAKE,OAAQF,EAAKG,QAASC,OAAOJ,EAAKK,OAAQ,CAACxC,OAAOyC,MAAMC,SAAS,KAAOP,EAAKQ,cA1B7G/B,YAAYnB,QAAUsB,gBAiBtBG,eAYA,IAAI0B,KAAO,EACPC,OAAS,EACTC,KAAO,EAGXhC,eAAeiC,UAEX,IAAIC,EAAQ9E,SAASC,cAAc,gBAC9B6E,GAGLA,EAAM5D,iBAAiB,YAAY,SAASC,GACvB,SAAbA,EAAM4D,MACN5D,EAAM6D,iBACNC,aAKZJ,UACA,IAAIK,WAAa,GACjBtC,eAAeqC,SACX,IAAIE,EAAcnF,SAASC,cAAc,gBACrCmF,EAAYpF,SAASqF,eAAe,qBACpCC,EAAQtF,SAASqF,eAAe,iBAChCE,EAASvF,SAASqF,eAAe,kBAErC,IAAKD,EACD,OAEJA,EAAUjF,UAAY,GACtBmF,EAAMnF,UAAY,GAElBoF,EAAO7E,UAAUc,OAAO,UAEpB2D,EAAYK,OAASN,aACrBN,KAAO,EACP/F,WAAW,IAEfqG,WAAaC,EAAYK,MAEzB,IAAI5B,QAAaC,MAAM,eAAiB,IAAIC,gBAAgB,CAAE2B,MAAON,EAAYK,MAAOd,KAAAA,KAAMC,OAAe,GAAPC,QAClGc,QAAa9B,EAAKM,OAEtBoB,EAAMnF,UAAY,SAAWuF,EAAKJ,MAAQ,kBAC1CF,EAAUjF,UAAY,GACtBuF,EAAK9B,KAAK+B,QAASC,IACD,GAAVA,EAAEC,OACFD,EAAEC,KAAO,GAEbT,EAAUjF,WAAa,mFAEeyF,EAAEC,KAAO,uDACHD,EAAEzB,OAAS,gEACNyB,EAAEC,KAAO,kEACP,GAAK,GAAKD,EAAEC,KAAO,qFAEpBD,EAAEzB,OAAS,4FAKjEtF,WAAW6G,EAAKJ,OAChBC,EAAO7E,UAAUC,IAAI,UAKzBiC,eAAekD,QACX,IAAIC,EAAgB/F,SAASqF,eAAe,iBAC5C,GAAKU,EAGL,IAAK,IAAIH,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACfG,EAAcC,SAASJ,GAC7BrE,QAAUqB,iBAEN8B,KADK,GAALkB,EACOA,EAEA,GAAKA,QAEVK,cACNtB,OAAS,QACHM,WAIlBrC,eAAeqD,cACX,IAAIF,EAAgB/F,SAASqF,eAAe,iBAC5C,GAAKU,EAGL,IAAK,IAAIH,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAIM,EAAMH,EAAcC,SAASJ,GACjCM,EAAIxF,UAAUc,OAAO,yBACX,GAALoE,GAAkB,GAARlB,MAAoB,GAALkB,GAAUlB,MAAQ,GAAKkB,IACjDM,EAAIxF,UAAUC,IAAI,yBAK9BiC,eAAe/D,WAAWyG,GACtB,IAAIa,EAAqBnG,SAASqF,eAAe,sBAEjD,GADAc,EAAmBhG,UAAY,GAClB,GAATmF,EACA,OAEJ,IAAIc,EAAQC,KAAKC,MAAMhB,EAAQ,IAI3BiB,EAAU,IAAIC,IAAI,CAClB,EAAG,EAAG,EACN5B,KAAO,EAAGA,KAAMA,KAAO,EACvBwB,EAAQ,EAAGA,EAAQ,EAAGA,IAE1B,GAAIxB,KAAO,EAAG,CAEV,IAAI6B,EAAMJ,KAAKC,MAAMF,EAAQ,GAC7BG,EAAQ5F,IAAI8F,EAAM,GAClBF,EAAQ5F,IAAI8F,GACZF,EAAQ5F,IAAI8F,EAAM,GAEtBF,EAAU,IAAIA,GACdA,EAAUA,EAAQG,MAAK,SAASC,EAAGC,GAAK,OAAOD,EAAIC,KAEnD,IAAK,IAAIhB,EAAI,EAAGA,EAAIW,EAAQM,OAAQjB,IAChC,GAAIW,EAAQX,IAAM,GAAKW,EAAQX,IAAMQ,EAAO,CACpCR,EAAI,GAAKW,EAAQX,EAAI,GAAK,GAAKW,EAAQX,KACvCO,EAAmBhG,WAAa,IAIpC,IAAI2G,EAASP,EAAQX,IAAMhB,KAAO,uBAAyB,GAE3DuB,EAAmBhG,WAAa,8BAAgCoG,EAAQX,GAAK,0BAA4BkB,EAAS,MAAQP,EAAQX,GAAK,GAAK,QAKxJhD,eAAemE,SAASC,EAAGpB,GACvBhB,KAAOgB,EACPhF,QAAQC,IAAImG,GAEZA,EAAEC,OAAOvG,UAAUC,IAAI,wBACvBsE,OAAOL,MAMXhC,eAAeU,aACX,IAAI4D,EAAelH,SAASqF,eAAe,gBACvC8B,EAAanH,SAASC,cAAc,gBACpC2D,QAAaC,MAAM,gBAAkB,IAAIC,gBAAgB,CAAEC,QAAStB,WACpEiD,QAAa9B,EAAKM,OACtBiD,EAAWhH,UAAY,GACvB,IAAIiH,EAAS,EACb1B,EAAKC,QAASC,IACVwB,GAAU,GAAK,GAAKxB,EAAEC,KAGtBsB,EAAWhH,WAAa,mFAEcyF,EAAEC,KAAO,uDACHD,EAAEzB,OAAS,gEACNyB,EAAEC,KAAO,+DACV,IAAKwB,KAAKzB,EAAE0B,KAAMC,qBAAuB,kEACtC,GAAK,GAAK3B,EAAEC,KAAO,+CAK1EqB,EAAa/G,UAAYiH,EAAS,UAMtCxE,eAAeS,eACX,IAAImE,EAAmBxH,SAASC,cAAc,qBAC1C2D,QAAaC,MAAM,mBAAqB,IAAIC,gBAAgB,CAAEC,QAAStB,WAC3E+E,EAAiBhC,aAAe5B,EAAKM,QAAoB,WAI7D,SAASuD,gBACLC,UAAUC,UAAUC,UAAU5H,SAASC,cAAc,qBAAqBuF,OAK9E5C,eAAeiF,YACX,IAAI5E,EAASpB,SAASqB,YAClBc,EAAShE,SAASC,cAAc,iBAGpC,GAFA+D,EAAO8D,cAAcpH,UAAUc,OAAO,kBACtCwC,EAAOwB,MAAMxB,EAAOwB,MAAMuC,eACpB,8CAA8CC,KAAKhE,EAAOwB,OAG5D,OAFAxB,EAAO8D,cAAcpH,UAAUC,IAAI,uBACnCsH,MAAM,wCAIS,YADFpE,MAAM,mBAAqB,IAAIC,gBAAgB,CAAEC,cAAed,EAAOE,aAAca,OAAQA,EAAOwB,UAC5G0C,cAKH5E,aACNtD,SAASC,cAAc,gBAAgBS,UAAUc,OAAO,wBALpDyG,MAAM,6CAUdrF,eAAeuF,aACX,IAAInE,EAAShE,SAASC,cAAc,sBACpC,IAAK+D,EACD,OAEJ,IAAIJ,QAAaC,MAAM,eAAiB,IAAIC,gBAAgB,CAAEqE,YAAW,KACrEzC,QAAa9B,EAAKM,OACtBF,EAAO7D,UAAUuF,EAAK9B,KAAK,GAAGO,OAC9BH,EAAOoE,KAAK,oCAAsC1C,EAAK9B,KAAK,GAAGO,OA3JnEc,SAiFAa,QA6EAqC","file":"../components/main.min.js","sourcesContent":["function communitySlider() {\r\n    var swiper = new Swiper('.community__slider .swiper-container', {\r\n        slidesPerView: 1,\r\n        spaceBetween: 10,\r\n        pagination: {\r\n            el: '.community__slider .swiper-pagination',\r\n            type: 'bullets',\r\n            clickable: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n            },\r\n            576: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 30\r\n            },\r\n        }\r\n    })\r\n}\r\n\r\nfunction headSlider() {\r\n    var swiper = new Swiper('.main__img.swiper-container', {\r\n        slidesPerView: 1,\r\n        allowTouchMove: false,\r\n        effect: 'fade',\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 4000\r\n        },\r\n        speed: 1500,\r\n        fadeEffect: {\r\n            crossFade: false\r\n        },\r\n        on: {\r\n            init: function () {\r\n                let title = document.querySelector(\".main__img .swiper-slide-active\").getAttribute(\"data-head-title\")\r\n                document.querySelector(\".words-slider\").innerHTML = title\r\n            },\r\n            slideChange: function () {\r\n                let title = document.querySelector(\".main__img .swiper-slide-next\").getAttribute(\"data-head-title\")\r\n                setTimeout(\r\n                    animateWord(title),\r\n                    2000\r\n                )\r\n            },\r\n        },\r\n    })\r\n}\r\n\r\nfunction animateWord(title) {\r\n    let block = document.querySelector(\".words-slider\")\r\n    let span = document.createElement('span');\r\n    block.innerHTML = ''\r\n    span.classList.add(\"words-slider__text\")\r\n    span.innerHTML = `${title}`\r\n    console.log(span)\r\n    block.append(span)\r\n\r\n    let text = document.querySelector(\".words-slider__text\")\r\n    text.classList.add(\"words-slider__text--active\")\r\n    console.log(text)\r\n}\r\n\r\n\r\nfunction artSlider() {\r\n    var swiper = new Swiper('.main__art-items.swiper-container', {\r\n        slidesPerView: 'auto',\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 4000\r\n        },\r\n        speed: 3000,\r\n    })\r\n}\r\n\r\nfunction brandSlider() {\r\n    var swiper = new Swiper('.community__brands.swiper-container', {\r\n        slidesPerView: 'auto',\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 4000\r\n        },\r\n        speed: 3000,\r\n    })\r\n}\r\n\r\ncommunitySlider()\r\n\r\nartSlider()\r\nbrandSlider()\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\r\n    headSlider()\r\n});\r\n","let step1Btn = document.querySelector(\"[data-step='addDomain']\")\r\nlet step2BackBtn = document.querySelector(\"[data-step='backStep1']\")\r\nlet step2 = document.querySelector(\".quiz__step2\")\r\n\r\n\r\nif (step1Btn) {\r\n    step1Btn.onclick = function() {\r\n        step2.classList.add(\"quiz__step2--active\")\r\n    }\r\n}\r\n\r\nif (step2BackBtn) {\r\n    step2BackBtn.onclick = function() {\r\n        step2.classList.remove(\"quiz__step2--active\")\r\n    }\r\n}","let burger = document.querySelector(\".header__burger\")\r\nlet body = document.querySelector(\"body\")\r\nlet header = document.querySelector(\"header\")\r\n\r\nif (burger) {\r\n    burger.onclick = function() {\r\n        header.classList.toggle(\"header--active\")\r\n        body.classList.toggle(\"fixed-body\")\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst provider = new ethers.providers.Web3Provider(window.ethereum)\r\nconst claim_abi = [\r\n\r\n    {\r\n        \"inputs\": [{\r\n                \"internalType\": \"string\",\r\n                \"name\": \"domain\",\r\n                \"type\": \"string\"\r\n            },\r\n            {\r\n                \"internalType\": \"address\",\r\n                \"name\": \"account\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"internalType\": \"uint256\",\r\n                \"name\": \"value\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"internalType\": \"bytes[]\",\r\n                \"name\": \"signatures\",\r\n                \"type\": \"bytes[]\"\r\n            }\r\n        ],\r\n        \"name\": \"claim\",\r\n        \"outputs\": [],\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    }\r\n]\r\n\r\nlet connect_btn = document.querySelector(\".connect_btn\")\r\nlet account_btn = document.querySelector(\".account_btn\")\r\n\r\nasync function connectMetamask() {\r\n    if (address) {\r\n        window.open(\"/domains\", \"_self\")\r\n    }\r\n    await provider.send(\"eth_requestAccounts\", []);\r\n    checkAccount()\r\n}\r\n\r\n\r\n\r\nconnect_btn.onclick = connectMetamask\r\nlet address\r\nasync function checkAccount() {\r\n    let signer = provider.getSigner()\r\n    address = await signer.getAddress()\r\n    if (address) {\r\n        connect_btn.innerHTML = address.substr(0, 6) + \"...\" + address.substr(38, 4)\r\n        try {\r\n            getTXTRecord()\r\n            getDomains()\r\n        } catch (err) {\r\n            console.log()\r\n        }\r\n    }\r\n\r\n}\r\n\r\ncheckAccount()\r\n\r\nasync function claim() {\r\n    let protocol_airdrop = new ethers.Contract(\"0x3d38fa9B1E78EaA35175B8647b25F41B445dDaCB\", claim_abi, provider)\r\n    let signer = provider.getSigner()\r\n    protocol_airdrop = protocol_airdrop.connect(signer)\r\n\r\n    let data = await fetch(\"/api/airdrop?\" + new URLSearchParams({ account: await signer.getAddress(), domain: \"gems.black\" }))\r\n    let args = await data.json()\r\n    protocol_airdrop.claim(args.Domain, args.Account, BigInt(args.Value), [ethers.utils.arrayify(\"0x\" + args.Signatures)])\r\n}\r\n\r\nlet tier = 0\r\nlet offset = 0\r\nlet page = 0\r\n\r\n\r\nasync function onEnter() {\r\n\r\n    let input = document.querySelector(\".query_value\")\r\n    if (!input) {\r\n        return\r\n    }\r\n    input.addEventListener(\"keypress\", function(event) {\r\n        if (event.key == \"Enter\") {\r\n            event.preventDefault()\r\n            search()\r\n        }\r\n    })\r\n}\r\n\r\nonEnter()\r\nlet prev_query = ''\r\nasync function search() {\r\n    let query_value = document.querySelector(\".query_value\")\r\n    let container = document.getElementById(\"results_container\")\r\n    let count = document.getElementById(\"results_count\")\r\n    let loader = document.getElementById(\"results_loader\")\r\n\r\n    if (!container) {\r\n        return\r\n    }\r\n    container.innerHTML = \"\"\r\n    count.innerHTML = \"\"\r\n\r\n    loader.classList.remove(\"hidden\")\r\n\r\n    if (query_value.value != prev_query) {\r\n        page = 0\r\n        pagination(0)\r\n    }\r\n    prev_query = query_value.value\r\n\r\n    let data = await fetch(\"/api/search?\" + new URLSearchParams({ query: query_value.value, tier, offset: page * 10 }))\r\n    let list = await data.json()\r\n\r\n    count.innerHTML = \"About \" + list.count + \" search results\"\r\n    container.innerHTML = \"\"\r\n    list.data.forEach((i) => {\r\n        if (i.Tier == 0) {\r\n            i.Tier = 1\r\n        }\r\n        container.innerHTML += `\r\n        <div class=\"domains__row\">\r\n            <div class=\"domains__info tier` + i.Tier + `\">\r\n                <div class=\"domains__info-item\">` + i.Domain + `</div>\r\n                <div class=\"domains__info-item\">Tier ` + i.Tier + `</div>\r\n                <div class=\"domains__info-item\">Score: ` + 10 * 2 ** i.Tier + `</div>\r\n            </div>\r\n            <a href=\"https://search.art.art/en?domain=` + i.Domain + `\" class=\"domains__link mbtn mbtn-black\">Check avalibility</a>\r\n        </div>\r\n        `\r\n    })\r\n\r\n    pagination(list.count)\r\n    loader.classList.add(\"hidden\")\r\n\r\n}\r\n\r\nsearch()\r\nasync function tiers() {\r\n    let tiers_buttons = document.getElementById(\"tiers_buttons\")\r\n    if (!tiers_buttons) {\r\n        return\r\n    }\r\n    for (let i = 0; i < 10; i++) {\r\n        let btn = tiers_buttons.children[i]\r\n        btn.onclick = async function() {\r\n            if (i == 0) {\r\n                tier = i\r\n            } else {\r\n                tier = 10 - i\r\n            }\r\n            await tiersUpdate()\r\n            offset = 0\r\n            await search()\r\n        }\r\n    }\r\n}\r\nasync function tiersUpdate() {\r\n    let tiers_buttons = document.getElementById(\"tiers_buttons\")\r\n    if (!tiers_buttons) {\r\n        return\r\n    }\r\n    for (let i = 0; i < 10; i++) {\r\n        let btn = tiers_buttons.children[i]\r\n        btn.classList.remove(\"domains__tab--active\")\r\n        if ((i == 0 && tier == 0) || (i != 0 && tier == 10 - i)) {\r\n            btn.classList.add(\"domains__tab--active\")\r\n        }\r\n    }\r\n}\r\n\r\nasync function pagination(count) {\r\n    let pagination_buttons = document.getElementById(\"pagination_buttons\")\r\n    pagination_buttons.innerHTML = ''\r\n    if (count == 0) {\r\n        return\r\n    }\r\n    let pages = Math.floor(count / 10)\r\n\r\n\r\n\r\n    let numbers = new Set([\r\n        0, 1, 2,\r\n        page - 1, page, page + 1,\r\n        pages - 2, pages - 1, pages\r\n    ])\r\n    if (page < 3) {\r\n\r\n        let mid = Math.floor(pages / 2)\r\n        numbers.add(mid - 1)\r\n        numbers.add(mid)\r\n        numbers.add(mid + 1)\r\n    }\r\n    numbers = [...numbers]\r\n    numbers = numbers.sort(function(a, b) { return a - b })\r\n\r\n    for (let i = 0; i < numbers.length; i++) {\r\n        if (numbers[i] >= 0 && numbers[i] <= pages) {\r\n            if (i > 0 && numbers[i - 1] + 1 != numbers[i]) {\r\n                pagination_buttons.innerHTML += ``\r\n\r\n            }\r\n\r\n            let active = numbers[i] == page ? 'domains__tab--active' : ''\r\n\r\n            pagination_buttons.innerHTML += `<a onclick=\"set_page(event,` + numbers[i] + `)\" class=\"domains__tab ` + active + `\">` + (numbers[i] + 1) + `</a>`\r\n        }\r\n    }\r\n}\r\n\r\nasync function set_page(e, i) {\r\n    page = i\r\n    console.log(e)\r\n\r\n    e.target.classList.add('domains__tab--active')\r\n    search(page)\r\n}\r\n\r\ntiers()\r\n\r\n\r\nasync function getDomains() {\r\n    let tokens_count = document.getElementById(\"tokens_count\")\r\n    let quiz_table = document.querySelector(\".quiz__table\")\r\n    let data = await fetch(\"/api/domains?\" + new URLSearchParams({ account: address }))\r\n    let list = await data.json()\r\n    quiz_table.innerHTML = \"\"\r\n    let tokens = 0\r\n    list.forEach((i) => {\r\n        tokens += 10 * 2 ** i.Tier\r\n\r\n\r\n        quiz_table.innerHTML += `\r\n        <div class=\"domains__row\">\r\n            <div class=\"domains__info tier` + i.Tier + `\">\r\n                <div class=\"domains__info-item\">` + i.Domain + `</div>\r\n                <div class=\"domains__info-item\">Tier ` + i.Tier + `</div>\r\n                <div class=\"domains__info-item\">Exp ` + (new Date(i.Exp)).toLocaleDateString() + `</div>\r\n                <div class=\"domains__info-item\">Score: ` + 10 * 2 ** i.Tier + `</div>\r\n            </div>\r\n        </div>`\r\n\r\n    })\r\n    tokens_count.innerHTML = tokens + \" tokens\"\r\n}\r\n\r\n\r\n\r\n\r\nasync function getTXTRecord() {\r\n    let txt_record_field = document.querySelector(\".txt_record_field\")\r\n    let data = await fetch(\"/api/txt-record?\" + new URLSearchParams({ account: address }))\r\n    txt_record_field.value = (await data.json())[\"txt_record\"]\r\n}\r\n\r\n\r\nfunction copyTXTRecord() {\r\n    navigator.clipboard.writeText(document.querySelector(\".txt_record_field\").value)\r\n}\r\n\r\n\r\n\r\nasync function addDomain() {\r\n    let signer = provider.getSigner()\r\n    let domain = document.querySelector(\".domain_field\")\r\n    domain.parentElement.classList.remove(\"quiz__fg_error\")\r\n    domain.value=domain.value.toLowerCase()\r\n    if (!(/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.art$/.test(domain.value))){\r\n        domain.parentElement.classList.add(\"quiz__fg_error\")\r\n        alert(\"Please, make sure the domain is .art\")\r\n        return\r\n    }\r\n    let data = await fetch(\"/api/add-domain?\" + new URLSearchParams({ account: await signer.getAddress(), domain: domain.value }))\r\n    if (data.status != 200) {\r\n        alert(\"Please, check TXT record and try it later\")\r\n        return\r\n    }\r\n\r\n    await getDomains()\r\n    document.querySelector(\".quiz__step2\").classList.remove(\"quiz__step2--active\")\r\n\r\n\r\n}\r\n\r\nasync function suggestion(){\r\n    let domain = document.querySelector(\".find__search-link\")\r\n    if (!domain){\r\n        return\r\n    }\r\n    let data = await fetch(\"/api/search?\" + new URLSearchParams({ suggestion:true }))\r\n    let list = await data.json()\r\n    domain.innerHTML=list.data[0].Domain\r\n    domain.href=`https://search.art.art/en?domain=` + list.data[0].Domain\r\n}\r\n\r\nsuggestion()"]}